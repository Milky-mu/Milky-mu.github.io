<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æœ¨å®å®&æ—å®å®çš„å°çª</title>
  <meta name="description" content="æƒ…ä¾£çºªå¿µç½‘ç«™ï¼šè§†å·®å¤§å›¾ã€äº¤é”™æ—¶é—´è½´ã€æ·±æµ…è‰²ä¸»é¢˜ã€å›åˆ°é¡¶éƒ¨ã€ç›¸ä¼´å¤©æ•°ä¸å‘¨å¹´å€’è®¡æ—¶" />
  <style>
    :root{
      --bg:#fffaf7; --text:#222; --muted:#6b6b6b; --primary:#ff6b81; --card:#fff; --shadow:0 10px 30px rgba(0,0,0,.08)
    }
    :root.dark{ --bg:#0e0f12; --text:#eaeaea; --muted:#9aa0a6; --card:#14161a; --primary:#ff7a90 }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--text);font-family:Inter, system-ui, -apple-system, "PingFang SC","Microsoft YaHei", sans-serif;line-height:1.7}
    img{max-width:100%;display:block}
    a{text-decoration:none;color:inherit}
    .container{max-width:1100px;margin:0 auto;padding:0 20px}
    .section{padding:80px 0}
    h1,h2,h3{margin:0 0 12px}
    h2{font-size:30px}
    .muted{color:var(--muted)}

    /* é¡¶éƒ¨å¯¼èˆª */
    .nav{position:sticky;top:0;background:rgba(255,255,255,.6);backdrop-filter:blur(10px);z-index:999;border-bottom:1px solid rgba(0,0,0,.06)}
    :root.dark .nav{background:rgba(20,22,26,.6);border-color:rgba(255,255,255,.06)}
    .nav-inner{display:flex;align-items:center;justify-content:space-between;max-width:1100px;margin:0 auto;padding:10px 20px}
    .logo{font-weight:800;font-size:18px}
    .logo span{color:var(--primary)}
    .nav nav a{margin:0 10px;opacity:.85}
    .nav nav a:hover{opacity:1}
    .theme{margin-left:8px;border:1px solid rgba(0,0,0,.1);background:transparent;border-radius:8px;padding:6px 10px;cursor:pointer}

    /* è§†å·®åŒºåŸŸ */
    .parallax{position:relative;background:#ddd;background-size:cover;background-position:center;background-attachment:fixed}
    .hero{
      min-height:72vh;display:grid;place-items:center;text-align:center;
      background-image:
        linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.08)),
        url('assets/img/bg1.jpg');
    }
    .hero-inner{padding:90px 20px}
    .hero h1{font-size:42px;margin-bottom:8px}
    .btn{display:inline-block;margin-top:16px;padding:10px 18px;border-radius:999px;background:var(--primary);color:#fff;border:none;cursor:pointer;box-shadow:var(--shadow)}

    /* åŒåˆ—æ•…äº‹ */
    .two-col{display:grid;grid-template-columns:1.2fr .8fr;gap:28px;align-items:center}
    .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:14px}
    .card{background:var(--card);border-radius:14px;padding:16px;box-shadow:var(--shadow)}
    .side-photo{border-radius:18px;overflow:hidden;box-shadow:var(--shadow)}

    /* æ•°å­—æ¡ */
    .strip{background:linear-gradient(90deg, rgba(255,107,129,.12), transparent)}
    .stats{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;padding:18px 0}
    .stat{background:var(--card);border-radius:14px;box-shadow:var(--shadow);padding:18px;text-align:center}
    .stat span{display:block;font-size:28px;font-weight:800}

    /* æ—¶é—´è½´ï¼ˆå·¦å³äº¤é”™ï¼‰ */
    .timeline{list-style:none;padding:0;margin:24px 0;position:relative}
    .timeline::before{content:'';position:absolute;left:50%;top:0;bottom:0;width:2px;background:rgba(0,0,0,.1)}
    .tl-item{position:relative;padding:10px 40px;width:50%}
    .tl-item:nth-child(odd){left:0;text-align:right}
    .tl-item:nth-child(even){left:50%}
    .tl-content{background:var(--card);border-radius:14px;box-shadow:var(--shadow);display:inline-block;padding:12px 16px}
    .tl-content time{color:var(--muted);font-size:12px}

    /* ä¸­æ®µè§†å·®ï¼ˆè°ƒæ·¡é®ç½©ï¼‰ */
    .mid{
      min-height:42vh;display:grid;place-items:center;
      background-image:
        linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.06)),
        url('assets/img/bg3.jpg');
      background-size:cover;background-position:center;background-attachment:fixed
    }
    .quote blockquote{font-size:28px;text-align:center;opacity:.95}

    /* ç›¸å†Œ Masonryï¼ˆçº¯å›¾ç‰‡ï¼Œä¸å¯ç‚¹å‡»ï¼‰ */
    .masonry{column-count:4;column-gap:14px}
    .item{break-inside:avoid;margin-bottom:14px;display:block;border-radius:12px;overflow:hidden;box-shadow:var(--shadow);cursor:default}
    .item img{width:100%;height:auto;display:block;transition:transform .3s}
    .item:hover img{transform:scale(1.02)}

    /* ä¿é™©ï¼šå½»åº•ç¦ç”¨/éšè—ä»»ä½•å¯èƒ½çš„ç¯ç½©ä¸è¦†ç›–å±‚ */
    .lightbox, #lightbox, .overlay, .backdrop { display:none !important; }
    #gallery .item{ pointer-events:none; }
    .hero video{ pointer-events:none; }
    .parallax::before,.parallax::after{ pointer-events:none; }

    .footer{padding:40px 0;text-align:center;border-top:1px solid rgba(0,0,0,.06)}
    #toTop{position:fixed;right:16px;bottom:16px;border:none;background:var(--primary);color:#fff;border-radius:50%;width:44px;height:44px;cursor:pointer;box-shadow:var(--shadow);display:none}

    /* åŠ¨ç”» */
    .fade{opacity:0;transform:translateY(10px);transition:all .6s ease}
    .fade.show{opacity:1;transform:none}
    .delay{transition-delay:.15s}
    .delay2{transition-delay:.3s}

    /* è®©è§†é¢‘æ ·å¼ä¸å›¾ç‰‡åè°ƒ */
    .secret-content video{width:100%;max-width:720px;border-radius:16px;box-shadow:var(--shadow)}

    @media (max-width:900px){
      .two-col{grid-template-columns:1fr}
      .masonry{column-count:2}
      .timeline::before{left:8px}
      .tl-item,.tl-item:nth-child(even){left:0;width:100%;text-align:left;padding-left:28px}
    }
  </style>
</head>
<body>
  <header class="nav">
    <div class="nav-inner">
      <a href="#top" class="logo">US<span>Â·Pro</span></a>
      <nav>
        <a href="#story">æ•…äº‹</a>
        <a href="#stats">å¤©æ•°</a>
        <a href="#timeline">æ—¶é—´è½´</a>
        <a href="#gallery">ç›¸å†Œ</a>
        <a href="#secret">å½©è›‹</a>
        <button id="themeToggle" class="theme" title="æ·±æµ…è‰²åˆ‡æ¢">ğŸŒ“</button>
      </nav>
    </div>
  </header>

  <section id="top" class="hero parallax">
    <div class="hero-inner">
      <h1 class="fade">æ‹æƒ…å¦‚é€’å½’ï¼Œç»ˆæ­¢æ¡ä»¶æ˜¯ä½ ã€‚</h1>
      <p class="fade delay">Since <span id="start-date-label">2022-09-10</span></p>
      <a href="#gallery" class="btn fade delay2">å»çœ‹ç›¸å†Œ</a>
    </div>
  </section>

  <section id="story" class="container section two-col">
    <div>
      <h2>æˆ‘ä»¬çš„æ•…äº‹</h2>
      <p>ä» <strong>2022-07-21</strong> ç›¸è¯†ï¼Œåˆ° <strong>2022-09-10</strong> åœ¨ä¸€èµ·ã€‚</p>
      <div class="cards">
        <div class="card"><h3>Chapter 1</h3><p>ç¬¬ä¸€æ¬¡è§é¢ï¼Œåƒé¢„è°‹å¾ˆä¹…çš„å¶é‡ã€‚</p></div>
        <div class="card"><h3>Chapter 2</h3><p>æ­£å¼åœ¨ä¸€èµ·ï¼šç¬¬ 1 å¤©ï¼Œä¹Ÿæ˜¯ç¬¬ âˆ å¤©çš„å¼€å§‹ã€‚</p></div>
        <div class="card"><h3>Chapter 3</h3><p>è¦ä¸€ç›´ä¸€ç›´åœ¨ä¸€èµ·ã€‚</p></div>
      </div>
    </div>
    <figure class="side-photo">
      <img src="assets/img/bg2.jpg" alt="æˆ‘ä»¬çš„ç…§ç‰‡" onerror="this.style.display='none'"/>
    </figure>
  </section>

  <section id="stats" class="strip">
    <div class="container stats">
      <div class="stat"><span id="days-since">0</span><label>åœ¨ä¸€èµ·è¶…å¤šå¤©äº†ï¼</label></div>
      <div class="stat"><span id="cd-days">0</span><label>è·é‡é€¢çš„æ—¶é—´</label></div>
      <div class="stat"><span id="years">0</span><label>å·²èµ°è¿‡çš„æ—¶å…‰</label></div>
    </div>
  </section>

  <section id="timeline" class="container section">
    <h2>æ—¶é—´è½´</h2>
    <ul class="timeline">
      <li class="tl-item"><div class="tl-content"><time>2022-07-21</time><h3>ç¬¬ä¸€æ¬¡è§é¢</h3><p>æ˜æ˜æ˜¯ä¸å¼€å¿ƒçš„ä¸€å¤©ï¼Œä½†æ˜¯è®¤è¯†äº†æ—å®å®ï¼Œæ‰€ä»¥ä¸€åˆ‡éƒ½å¯ä»¥ã€‚</p></div></li>
      <li class="tl-item"><div class="tl-content"><time>2022-09-10</time><h3>ç´ ç”·æœ‹å‹äº†</h3><p>ä»¥åå°±æ˜¯ä¸¤ä¸ªäººçš„å°æ•…äº‹ã€‚</p></div></li>
      <li class="tl-item"><div class="tl-content"><time>2022-10-03</time><h3>ç¬¬ä¸€æ¬¡ä¸€èµ·å‡ºé—¨â€”â€”å¹¿å·ï¼</h3><p>ä¸€èµ·éª‘è‡ªè¡Œè½¦ï¼Œå¼€å¿ƒã€‚</p></div></li>
      <li class="tl-item"><div class="tl-content"><time>2023-08-21</time><h3>æ—å®å®å‡ºå›½å•¦</h3><p>ä¸€ç›´åˆ°ä»Šå¤©çš„å¼‚åœ°ï¼Œæˆ‘ä»¬éƒ½è¶…æ£’çš„ã€‚</p></div></li>
    </ul>
  </section>

  <section class="parallax mid"></section>

  <section id="gallery" class="container section">
    <h2>æ—¶é—´è½´ç›¸å†Œï¼</h2>
    <div class="masonry">
      <div class="item"><img src="assets/img/pic1.jpg" alt="pic1" onerror="this.parentElement.style.display='none'"></div>
      <div class="item"><img src="assets/img/pic2.jpg" alt="pic2" onerror="this.parentElement.style.display='none'"></div>
      <div class="item"><img src="assets/img/pic3.jpg" alt="pic3" onerror="this.parentElement.style.display='none'"></div>
      <div class="item"><img src="assets/img/pic4.jpg" alt="pic4" onerror="this.parentElement.style.display='none'"></div>
    </div>
  </section>

  <!-- è¿™é‡Œå¼€å§‹ï¼šå°å½©è›‹ï¼ˆè§£é”åæ’­æ”¾è§†é¢‘ï¼‰ -->
  <section id="secret" class="container section">
    <h2>å°å½©è›‹</h2>
    <p class="muted">è¾“å…¥æš—å·è§£é”ï¼ˆé»˜è®¤ 1096ï¼‰</p>
    <div class="secret-box">
      <input id="secret-input" placeholder="è¾“å…¥æš—å·">
      <button class="btn" id="secret-btn">è§£é”</button>
    </div>

    <div id="secret-content" class="secret-content" hidden>
      <video id="secret-video"
             controls
             preload="metadata"
             playsinline
             poster="assets/img/secret_poster.jpg"
             style="width:100%;max-width:720px;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.08);">
        <source src="assets/video/secret.mp4" type="video/mp4">
        ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ ‡ç­¾ã€‚
      </video>
      <p class="muted" id="secret-tip" style="margin-top:8px;">è§£é”æˆåŠŸï¼å¦‚æœæ²¡æœ‰è‡ªåŠ¨æ’­æ”¾ï¼Œç‚¹ä¸€ä¸‹æ’­æ”¾é”®å“¦ï½</p>
    </div>
  </section>
  <!-- å°å½©è›‹ç»“æŸ -->

  <footer class="footer">
    <div class="container">
      <p>Â© <span id="year"></span> For Us Â· GitHub Pages</p>
    </div>
  </footer>

  <button id="toTop" title="è¿”å›é¡¶éƒ¨">â†‘</button>

  <script>
    const CONFIG = { startDate: '2022-09-10', anniversaryBase: '09-10', secretCode: '1096' };

    function daysBetween(a,b){ const d1=new Date(a+'T00:00:00'); const d2=new Date(b+'T00:00:00'); return Math.floor((d2-d1)/(1000*60*60*24)); }

    function updateStats(){
      const today = new Date(); const todayStr=today.toISOString().slice(0,10);
      document.getElementById('start-date-label').textContent = CONFIG.startDate;
      document.getElementById('year').textContent = today.getFullYear();
      const days = daysBetween(CONFIG.startDate, todayStr) + 1;
      document.getElementById('days-since').textContent = days;
      document.getElementById('years').textContent = (days/365).toFixed(2);
      const y = today.getFullYear(); const tgt = new Date(`${y}-${CONFIG.anniversaryBase}T00:00:00`);
      const target = (tgt >= today) ? tgt : new Date(`${y+1}-${CONFIG.anniversaryBase}T00:00:00`);
      const cd = Math.max(0, daysBetween(todayStr, target.toISOString().slice(0,10)));
      document.getElementById('cd-days').textContent = cd;
    }

    // âœ… æ–°ç‰ˆï¼šè§£é”åæ˜¾ç¤ºå¹¶æ’­æ”¾è§†é¢‘
    function initSecret(){
      const btn = document.getElementById('secret-btn');
      const input = document.getElementById('secret-input');
      const box = document.getElementById('secret-content');

      btn.addEventListener('click', async ()=>{
        const val = (input.value || '').trim();
        if (val !== CONFIG.secretCode) {
          alert('æš—å·ä¸å¯¹ï¼Œå†è¯•è¯• ;)');
          return;
        }

        // æ˜¾ç¤ºè§†é¢‘åŒºå¹¶å°è¯•é™éŸ³è‡ªåŠ¨æ’­æ”¾
        box.hidden = false;
        const v = document.getElementById('secret-video');
        if (v) {
          try {
            v.currentTime = 0;
            v.muted = true;       // é™éŸ³æ›´å®¹æ˜“è‡ªåŠ¨æ’­æ”¾ï¼ˆç§»åŠ¨ç«¯ç­–ç•¥ï¼‰
            await v.play();
            const tip = document.getElementById('secret-tip');
            if (tip) tip.textContent = 'å·²è‡ªåŠ¨æ’­æ”¾ï¼ˆé™éŸ³ï¼‰ã€‚ç‚¹æ’­æ”¾å™¨å–æ¶ˆé™éŸ³å³å¯å¬åˆ°å£°éŸ³ï½';
          } catch (e) {
            console.warn('autoplay blocked:', e);
          }

          // å…è®¸ç‚¹å‡»è§†é¢‘åˆ‡æ¢é™éŸ³
          v.addEventListener('click', ()=>{ v.muted = !v.muted; });
        }

        // å¹³æ»‘æ»šåŠ¨åˆ°è§†é¢‘
        box.scrollIntoView({behavior:'smooth', block:'center'});
      });
    }

    function initScroll(){
      const toTop=document.getElementById('toTop');
      window.addEventListener('scroll',()=>{ toTop.style.display = window.scrollY>200 ? 'block':'none'; });
      toTop.onclick=()=>window.scrollTo({top:0,behavior:'smooth'});
      const obs=new IntersectionObserver((es)=>{ es.forEach(en=>{ if(en.isIntersecting) en.target.classList.add('show'); }); },{threshold:.15});
      document.querySelectorAll('.fade').forEach(el=>obs.observe(el));
    }

    function initTheme(){
      const key='us-theme'; const btn=document.getElementById('themeToggle');
      const set=t=>{ document.documentElement.classList.toggle('dark', t==='dark'); localStorage.setItem(key,t); };
      set(localStorage.getItem(key)||'light');
      btn.onclick=()=>{ const t=document.documentElement.classList.contains('dark')?'light':'dark'; set(t); };
    }

    // æ€¥æ•‘ï¼šç§»é™¤ä»»ä½•å¯èƒ½çš„é®ç½©/è¦†ç›–å±‚ï¼Œæ¢å¤ç‚¹å‡»
    document.addEventListener('DOMContentLoaded', () => {
      ['#lightbox','.lightbox','.overlay','.backdrop'].forEach(sel=>{
        document.querySelectorAll(sel).forEach(el=>el.remove());
      });
      Array.from(document.body.children).forEach(el=>{
        const r=el.getBoundingClientRect(); const z=+getComputedStyle(el).zIndex||0;
        if((el.style.position==='fixed'||getComputedStyle(el).position==='fixed') &&
           r.width>=innerWidth*0.98 && r.height>=innerHeight*0.98 && z>=10){
          el.remove();
        }
      });
    });

    document.addEventListener('DOMContentLoaded',()=>{
      updateStats();
      initSecret();
      initScroll();
      initTheme();
    });
  </script>
</body>
</html>
